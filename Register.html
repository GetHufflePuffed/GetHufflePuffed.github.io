<!--

Created by John Bagsby
2/3/2016

-->
<html>
  <head>
    <script src="https://cdn.firebase.com/js/client/2.4.0/firebase.js"></script>
  </head>

  <body style="background-image:url(http://eskipaper.com/images/blurred-wallpapers-1.jpg);">

    <script>
      var ref = new Firebase("https://popping-fire-6153.firebaseio.com/");
    
      function createaccount()
      {
        alert("HERE");
        var fname = document.getElementById("fname").value;
        var lname = document.getElementById("lname").value;
        var email_create = document.getElementById("email_create").value;
        var password_create = document.getElementById("password_create").value;
        var type = document.getElementById("type").value;
        var keywords=document.getElementById("keywords_create");

        ref.createUser({
          email: email_create,
          password: password_create
        }, function(error, userData){
          if(error){
            switch(error.code){
              case "EMAIL_TAKEN":
                alert("The new user account cannot be created because the email is already in use.");
              break;
              case "INVALID_EMAIL":
                alert("The specified email is not a valid email.");
                break;
              default:
                alert("Error creating user:", error);
            }
          }else{
            alert("Successfully created user account.");
          }
        });

        try
        {
          var usersRef = ref.child("users");
          usersRef.child(email).set({
            first_name: fname,
            last_name: lname,
            mentee_mentor=type,
            key_Tags=keywords
          });
        }
        catch(exception)
        {
          alert(exception);
        }
      }
    </script>
    
    <h1 id = "header">Register</h1>

    <hr style="border: dashed 3px;" />
    
    <h2><u>New User?</u></h2>
    
    <p>
    Please fill out the following form.
    </p>

    <h3>Select your account type</h3>
    <div class = "transbox">
    <select id="type">
      <option value="mentee">I want to be a mentee</option>
      <option value="mentor">I want to be a mentor</option>
    </select><br><br>

    <input type="text" id="fname" placeholder="First Name"><br><br>
    
    <input type="text" id="lname" placeholder="Last Name"><br><br>
    
    <input type="text" id="email_create" placeholder="Email"><br><br>
    
    <input type="password" id="password_create" placeholder="Password"><br><br>

    <input type="keywords" id="keywords_create" placeholder="Keywords I'm looking for">
    </div>

    <input type="submit" style="width:110;height:25;background-color:lightblue;color:blue" onclick="createaccount();" value="Create Account">
    
    <hr style="border: dashed 3px;"/>
    
    <style>
      div.transbox
      {
        opacity: 0.65;
      }
    </style>

  </body>
</html>